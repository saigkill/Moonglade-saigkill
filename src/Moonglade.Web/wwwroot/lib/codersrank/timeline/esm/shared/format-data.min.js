/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@codersrank/timeline@0.9.2/esm/shared/format-data.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function _extends(){return _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}import{differenceInMonths}from"./difference-in-months";export var formatData=function(t,e){void 0===t&&(t=[]);var n,a,r,o=[],i=[],s=function(t,e,n,a){i.push({name:t,start_date:e,end_date:n,items:[a]})};"technologies"===e&&(t.sort((function(t,e){return(t.start_date?new Date(t.start_date):new Date)-(e.start_date?new Date(e.start_date):new Date)})),t.forEach((function(t){[].concat(t.highlighted_technologies||[]).forEach((function(e){!function(t,e){var n,a=e.start_date,r=e.end_date,o=e.is_current,c=a?new Date(a):new Date,f=r&&!o?new Date(r):new Date,d=i.filter((function(e){return e.name.toLowerCase()===t.toLowerCase()}));d.length?(d.forEach((function(t){if(!n){var a,r,o,i,s=t.start_date?new Date(t.start_date):new Date,d=t.end_date?new Date(t.end_date):new Date;r=f,i=d,((a=c)<=(o=s)&&o<=r||a<=i&&i<=r||o<a&&r<i)&&(n=!0,t.start_date=new Date(Math.min(c,s)),t.end_date=new Date(Math.max(f,d)),t.items.push(e))}})),n||s(t,c,f,e)):s(t,c,f,e)}(e,t)}))})),t=i);var c=function(t){void 0===t&&(t=""),(n=new Date(t)).setMonth(0,1)};c(new Date),t.forEach((function(t){var e,r=new Date(t.start_date),o=t.is_current?new Date:new Date(t.end_date);r<n&&c(r),(!a||o>a)&&(void 0===(e=o)&&(e=""),a=new Date(e))}));var f=[];t.forEach((function(t,e){var a=new Date(t.start_date),o=t.is_current?new Date:new Date(t.end_date),i=differenceInMonths(n,a),s=i+differenceInMonths(a,o);(!r||s>r)&&(r=s),f.push(_extends({start_col:i,end_col:s,id:e},t))})),f.sort((function(t,e){return t.start_col>e.start_col?1:-1}));var d=function t(e,n){var a=e.start_col;return o[n]&&o[n].slice(0,f.indexOf(e)).filter((function(t){return t.end_col>a})).length>0?t(e,n+=1):n};f.forEach((function(t){var e=d(t,0);o[e]||(o[e]=[]),o[e].push(t)}));return{rows:o,years:function(){var t=n.getFullYear(),e=a.getFullYear(),r=[t];if(e>t)for(var o=1;o<=e-t;o+=1)r.push(t+o);return r}()}};
//# sourceMappingURL=/sm/2b12330dcd8c39846723de593e32c349c06aa2327d20d70b5f7c19c8613e8090.map