{"version":3,"file":"codersrank-portfolio.js.map","sources":["../src/shared/fetch-data.js","../src/shared/format-data.js","../src/shared/codersrank-logo.js","../src/shared/string-to-color.js","../src/shared/logo.js","../src/shared/sanitize-description.js","../src/shared/render.js","../src/shared/render-error.js","../src/shared/render-loading.js","../src/codersrank-portfolio.js"],"sourcesContent":["const cache = {};\n\nconst formatDate = (item) => {\n  if (item.is_current) return new Date();\n  return new Date(item.end_date || item.date_to);\n};\n\nexport const fetchData = (username) => {\n  if (cache[username]) return Promise.resolve(cache[username]);\n\n  return fetch(`https://api.codersrank.io/v2/users/${username}/projects`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      const sortedProjects = data.projects || [];\n      sortedProjects.sort((p1, p2) => {\n        const p1endDate = formatDate(p1);\n        const p2endDate = formatDate(p2);\n        return p2endDate - p1endDate;\n      });\n      cache[username] = sortedProjects;\n      return sortedProjects;\n    })\n    .catch((err) => {\n      // eslint-disable-next-line\n      console.error(err);\n      return Promise.reject(err);\n    });\n};\n","export const formatData = (portfolioData = [], maxItems) => {\n  let portfolio = portfolioData || [];\n  if (maxItems) {\n    portfolio = portfolioData.slice(0, maxItems);\n  }\n  return portfolio;\n};\n","export const codersRankLogo = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"258\" height=\"39\" viewBox=\"0 0 258 39\"><path fill=\"#19223C\" d=\"M71.358 27.687A8.076 8.076 0 0 1 69 21.999c0-2.122.846-4.162 2.358-5.687a8.022 8.022 0 0 1 2.664-1.688 8.175 8.175 0 0 1 3.126-.543 8.298 8.298 0 0 1 4.723 1.339 7.155 7.155 0 0 1 2.895 3.791H80.12a3 3 0 0 0-1.182-1.283 3.106 3.106 0 0 0-1.713-.427 4.128 4.128 0 0 0-1.694.264 4.046 4.046 0 0 0-1.43.926 5.197 5.197 0 0 0-1.133 3.234c0 1.17.399 2.309 1.134 3.234.403.405.89.72 1.43.926a4.128 4.128 0 0 0 1.693.264c.586.039 1.17-.087 1.684-.364a3.01 3.01 0 0 0 1.211-1.198h4.571a7.156 7.156 0 0 1-2.895 3.792 8.298 8.298 0 0 1-4.723 1.338 8.173 8.173 0 0 1-3.085-.557 8.02 8.02 0 0 1-2.629-1.673zM88.652 27.687a8.076 8.076 0 0 1-2.359-5.688c0-2.122.846-4.162 2.359-5.687a8.57 8.57 0 0 1 5.79-2.238c2.15 0 4.221.8 5.79 2.238a8.076 8.076 0 0 1 2.358 5.687 8.076 8.076 0 0 1-2.359 5.688 8.491 8.491 0 0 1-5.79 2.266 8.491 8.491 0 0 1-5.79-2.266zm8.837-2.454A5.197 5.197 0 0 0 98.623 22c0-1.17-.4-2.308-1.134-3.234a4.398 4.398 0 0 0-3.048-1.219c-1.14 0-2.234.438-3.047 1.22a5.197 5.197 0 0 0-1.134 3.233c0 1.171.399 2.309 1.134 3.234a4.398 4.398 0 0 0 3.047 1.219c1.14 0 2.235-.438 3.048-1.219zM110.592 14.304a9.126 9.126 0 0 1 6.247 2.156 7.73 7.73 0 0 1 1.8 2.546 7.573 7.573 0 0 1 0 6.06 7.73 7.73 0 0 1-1.8 2.546 9.049 9.049 0 0 1-6.247 2.156h-5.561V14.304h5.561zm-1.752 12.64h1.752a4.596 4.596 0 0 0 1.903-.295 4.504 4.504 0 0 0 1.602-1.044 4.909 4.909 0 0 0 1.295-3.569 4.909 4.909 0 0 0-1.295-3.568 4.504 4.504 0 0 0-1.602-1.044 4.595 4.595 0 0 0-1.903-.294h-1.752v9.813zM131.313 14.23v2.9h-5.714v3.345h5.104v2.9H125.6v3.568h5.714v2.9h-9.599V14.23zM138.55 23.746v6.022h-3.885V14.304h6.247a6.19 6.19 0 0 1 4.266 1.413c.486.418.874.933 1.137 1.51.263.578.395 1.204.387 1.836a4.752 4.752 0 0 1-.838 2.602 4.578 4.578 0 0 1-2.743 1.784l3.885 6.32h-4.418l-3.58-6.023h-.458zm0-6.616v3.717h2.362c.253.01.505-.03.742-.12.236-.09.45-.226.63-.4.175-.178.312-.388.404-.617.091-.23.135-.475.128-.722a1.819 1.819 0 0 0-.128-.721 1.854 1.854 0 0 0-.405-.617 1.833 1.833 0 0 0-.63-.4 1.87 1.87 0 0 0-.741-.12h-2.362zM155.158 17.055a1.86 1.86 0 0 0-1.22.372c-.159.138-.284.311-.363.505-.08.193-.111.402-.093.61a1.528 1.528 0 0 0 .457 1.115c.32.31.712.539 1.143.67l1.523.445 1.676.52 1.524.744c.487.317.881.753 1.143 1.264.31.6.466 1.262.457 1.933a4.227 4.227 0 0 1-.45 1.859 4.333 4.333 0 0 1-1.226 1.487 6.424 6.424 0 0 1-4.343 1.412 6.899 6.899 0 0 1-4.342-1.263 4.331 4.331 0 0 1-1.278-1.588 4.223 4.223 0 0 1-.398-1.981h4.114c-.012.253.032.507.128.742.097.236.244.449.431.625a1.87 1.87 0 0 0 1.421.492c.475.02.94-.14 1.296-.447a1.382 1.382 0 0 0 .457-1.115 1.455 1.455 0 0 0-.457-1.115 2.986 2.986 0 0 0-1.143-.669l-1.524-.446-1.676-.52-1.523-.744a3.148 3.148 0 0 1-1.143-1.264 4 4 0 0 1-.305-1.859 4.15 4.15 0 0 1 .407-1.944 4.258 4.258 0 0 1 1.27-1.55 6.582 6.582 0 0 1 4.19-1.338 6.982 6.982 0 0 1 4.113 1.115 4.33 4.33 0 0 1 1.278 1.588c.292.62.428 1.299.398 1.98h-4.19a2.056 2.056 0 0 0-.533-1.263 1.611 1.611 0 0 0-1.22-.372zM168.261 23.746v6.022h-3.885V14.304h6.247a6.19 6.19 0 0 1 4.266 1.413c.486.418.874.933 1.137 1.51.263.578.395 1.204.387 1.836a4.752 4.752 0 0 1-.838 2.602 4.578 4.578 0 0 1-2.743 1.784l3.885 6.32H172.3l-3.58-6.023h-.458zm0-6.616v3.717h2.362c.253.01.505-.03.742-.12.236-.09.45-.226.63-.4.175-.178.312-.388.404-.617.091-.23.135-.475.128-.722a1.819 1.819 0 0 0-.128-.721 1.854 1.854 0 0 0-.405-.617 1.833 1.833 0 0 0-.63-.4 1.87 1.87 0 0 0-.741-.12h-2.362zM189.592 29.768l-.914-2.602h-5.714l-.914 2.602h-4.114l5.485-15.538h4.723l5.485 15.538h-4.037zm-5.638-5.501h3.733l-1.828-5.428-1.905 5.428zM205.972 14.23h3.885v15.538h-3.885l-6.476-9.813v9.813h-3.885V14.23h3.885l6.476 9.814zM217.093 29.768h-3.885V14.304h3.885v6.766l5.257-6.766h5.104l-6.552 7.732 6.552 7.732h-4.952l-5.333-6.84zM232.863 27.761a1.98 1.98 0 0 1-.5 1.253 2.07 2.07 0 0 1-1.197.664 2.1 2.1 0 0 1-1.359-.222 2.024 2.024 0 0 1-.91-1.01 1.962 1.962 0 0 1-.054-1.342c.141-.44.433-.82.827-1.076a2.096 2.096 0 0 1 2.583.246c.201.194.359.426.464.682.105.256.154.53.146.805z\"></path> <path fill=\"#67a4ac\" d=\"M235.301 29.768V14.304h3.885v15.464zM244.062 27.687a8.076 8.076 0 0 1-2.358-5.688c0-2.122.846-4.162 2.358-5.687a8.57 8.57 0 0 1 5.79-2.238c2.151 0 4.222.8 5.79 2.238A8.076 8.076 0 0 1 258 21.999a8.076 8.076 0 0 1-2.358 5.688 8.491 8.491 0 0 1-5.79 2.266 8.491 8.491 0 0 1-5.79-2.266zm8.837-2.454A5.197 5.197 0 0 0 254.033 22c0-1.17-.399-2.308-1.134-3.234a4.398 4.398 0 0 0-3.047-1.219c-1.14 0-2.235.438-3.047 1.22a5.197 5.197 0 0 0-1.134 3.233c0 1.171.399 2.309 1.134 3.234a4.398 4.398 0 0 0 3.047 1.219c1.14 0 2.235-.438 3.047-1.219z\"></path> <path d=\"M33.25.054L2.147 19.634C.682 20.52-.034 21.512.001 22.611v2.98c.035 1.1.768 2.075 2.2 2.926l15.393 8.885a.726.726 0 0 0 1.047-.373l3.456-8.352-7.33-4.15a1.317 1.317 0 0 1-.514-.477 1.346 1.346 0 0 1 .461-1.864l13.457-8.247L33.72.427a.324.324 0 0 0-.103-.36.31.31 0 0 0-.369-.013z\" fill=\"#19223c\"></path> <path d=\"M58.8 10.961L43.618 1.757a.726.726 0 0 0-1.047.32l-3.56 8.352 7.225 4.31c.208.113.381.282.502.488a1.347 1.347 0 0 1 0 1.363 1.318 1.318 0 0 1-.502.49l-13.561 7.98-5.76 13.407a.323.323 0 0 0 .026.452.312.312 0 0 0 .445-.026l9.949-6.012 3.927 5.64a.947.947 0 0 0 .785.425h9.425a.932.932 0 0 0 .832-.506.97.97 0 0 0-.047-.984l-6.388-9.79 12.933-7.82c1.466-.887 2.199-1.88 2.199-2.98V13.94c0-1.1-.733-2.092-2.2-2.979z\" fill=\"#67a4ac\"></path></svg>`;\n","/* eslint-disable no-bitwise */\n\nfunction hashCode(str) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i += 1) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n\n  return hash;\n}\n\nfunction intToRGB(i) {\n  const c = (i & 0x00ffffff).toString(16).toUpperCase();\n\n  return '00000'.substring(0, 6 - c.length) + c;\n}\n\nfunction stringToColor(str) {\n  const hashedHexNumber = intToRGB(hashCode(str));\n  return `#${hashedHexNumber}`.toLowerCase();\n}\n\nexport { stringToColor };\n","import { stringToColor } from './string-to-color';\n\nexport const logo = (name, url) => {\n  const iconColor = stringToColor(name || '');\n  // prettier-ignore\n  return url ? /* html */`\n    <img src=\"${url}\" alt=\"${name}\" title=\"${name}\" />\n  ` : /* html */`\n    <svg title=\"${name}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\">\n      <rect width=\"32\" height=\"32\" fill=\"${iconColor}\" rx=\"3\" />\n      ${name ? /* html */`\n      <text\n        x=\"50%\"\n        y=\"50%\"\n        font-weight=\"bold\"\n        font-size=\"20\"\n        fill=\"#fff\"\n        dy=\"0\"\n        text-anchor=\"middle\"\n        dominant-baseline=\"central\"\n      >${ name[0].toUpperCase() }</text>\n      ` : ''}\n\n    </svg>\n  `;\n};\n","export const sanitizeDescription = (html = '') => {\n  return (html || '').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\n/g, '<br>');\n};\n","import { codersRankLogo } from './codersrank-logo';\nimport { logo } from './logo';\nimport { sanitizeDescription } from './sanitize-description';\n\nexport const render = ({\n  data: portfolios,\n  grid,\n  preloader,\n  logos: showLogos,\n  dates: showDates,\n  title: showTitle,\n  description: showDescription,\n  company: showCompany,\n  skills: showSkills,\n  links: showLinks,\n  branding,\n} = {}) => {\n  const formatDate = (date) => {\n    if (!date) return '';\n    const formatter = Intl.DateTimeFormat('en', { month: 'short', year: 'numeric' });\n    return formatter.format(new Date(date));\n  };\n\n  const dates = (item) => {\n    const startDate = formatDate(item.start_date || item.date_from);\n    const endDate = item.is_current\n      ? 'Present'\n      : formatDate(item.end_date || item.date_to);\n    return `${startDate} - ${endDate}`;\n  };\n\n  // prettier-ignore\n  return /* html */ `\n    <div class=\"codersrank-portfolio ${grid ? 'codersrank-portfolio-grid' : ''} ${!showLogos ? 'codersrank-portfolio-no-logos' : ''} ${preloader ? 'codersrank-portfolio-loading' : ''}\">\n      ${preloader ? /* html */ `\n      <div class=\"codersrank-portfolio-preloader\"></div>\n      ` : ''}\n      <ul>\n        ${portfolios.map((portfolio) => /* html */`\n        <li class=\"codersrank-portfolio-item\">\n          ${showLogos ? /* html */`\n          <div class=\"codersrank-portfolio-logo\">\n            ${logo(portfolio.project_title, portfolio.image)}\n          </div>\n          ` : ''}\n          <div class=\"codersrank-portfolio-content\">\n            ${showTitle && portfolio.project_title ? /* html */`\n            <div class=\"codersrank-portfolio-title\">\n              ${ portfolio.project_title }\n            </div>\n            ` : ''}\n\n            ${showDates && dates(portfolio) ? /* html */`\n            <div class=\"codersrank-portfolio-date\">\n              ${ dates(portfolio) }\n            </div>\n            ` : ''}\n\n            ${showCompany && portfolio.company ? /* html */`\n            <div class=\"codersrank-portfolio-company\">\n              ${ portfolio.company }\n            </div>\n            ` : ''}\n\n            ${showDescription && portfolio.description ? /* html */`\n            <div class=\"codersrank-portfolio-description\">\n              ${ sanitizeDescription(portfolio.description) }\n            </div>\n            ` : ''}\n\n            ${showSkills && (portfolio.highlighted_technologies || portfolio.other_technologies) ? /* html */`\n              <div class=\"codersrank-portfolio-tags\">\n                ${(portfolio.highlighted_technologies || []).map((tech) => /* html */`\n                  <span class=\"codersrank-portfolio-tag\"><span class=\"codersrank-portfolio-tag-star\">★</span>${tech}</span>\n                `).join('')}\n\n                ${(portfolio.other_technologies || []).map((tech) => /* html */`\n                  <span class=\"codersrank-portfolio-tag\">${tech}</span>\n                `).join('')}\n              </div>\n            ` : ''}\n\n            ${showLinks && (portfolio.link_to_project || portfolio.link_to_source_code) ? /* html */`\n            <div class=\"codersrank-portfolio-links\">\n              ${portfolio.link_to_project ? /* html */`\n              <a href=\"${portfolio.link_to_project}\" target=\"_blank\" rel=\"noopener noreferrer\">Demo</a>\n              ` : ''}\n              ${portfolio.link_to_source_code ? /* html */`\n              <a href=\"${portfolio.link_to_source_code}\" target=\"_blank\" rel=\"noopener noreferrer\">Source</a>\n              ` : ''}\n            </div>\n            ` : ''}\n          </div>\n        </li>\n        `).join('')}\n      </ul>\n      ${branding ? /* html */`\n      <div class=\"codersrank-portfolio-branding\">\n        <a href=\"https://codersrank.io\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <span>Powered by </span>\n          ${codersRankLogo}\n        </a>\n      </div>\n      ` : ''}\n    </div>\n  `;\n};\n","export const renderError = () => {\n  return '';\n};\n","import { render } from './render';\n\nexport const renderLoading = (ctx) => {\n  return render({\n    ...ctx,\n    preloader: true,\n    data: [],\n  });\n};\n","import { fetchData } from './shared/fetch-data';\nimport { formatData } from './shared/format-data';\nimport { render } from './shared/render';\nimport { renderError } from './shared/render-error';\nimport { renderLoading } from './shared/render-loading';\n\n// eslint-disable-next-line\nconst COMPONENT_TAG = 'codersrank-portfolio';\nconst STATE_IDLE = 0;\nconst STATE_LOADING = 1;\nconst STATE_ERROR = 2;\nconst STATE_SUCCESS = 3;\n\n// eslint-disable-next-line\nconst STYLES = `$_STYLES_$`;\n\n// eslint-disable-next-line\nclass CodersrankPortfolio extends HTMLElement {\n  constructor() {\n    super();\n\n    this.shadowEl = this.attachShadow({ mode: 'closed' });\n    this.tempDiv = document.createElement('div');\n\n    this.stylesEl = document.createElement('style');\n    this.stylesEl.textContent = STYLES;\n    this.shadowEl.appendChild(this.stylesEl);\n\n    this.mounted = false;\n\n    this.state = STATE_IDLE;\n\n    this.data = null;\n  }\n\n  static get observedAttributes() {\n    return [\n      'username',\n      'logos',\n      'grid',\n      'max-items',\n      'dates',\n      'title',\n      'description',\n      'company',\n      'skills',\n      'links',\n    ];\n  }\n\n  get username() {\n    return this.getAttribute('username');\n  }\n\n  set username(value) {\n    this.setAttribute('username', value);\n  }\n\n  get logos() {\n    return this.getAttribute('logos') !== 'false';\n  }\n\n  set logos(value) {\n    this.setAttribute('logos', value);\n  }\n\n  get dates() {\n    return this.getAttribute('dates') !== 'false';\n  }\n\n  set dates(value) {\n    this.setAttribute('dates', value);\n  }\n\n  get title() {\n    return this.getAttribute('title') !== 'false';\n  }\n\n  set title(value) {\n    this.setAttribute('title', value);\n  }\n\n  get description() {\n    return this.getAttribute('description') !== 'false';\n  }\n\n  set description(value) {\n    this.setAttribute('description', value);\n  }\n\n  get company() {\n    return this.getAttribute('company') !== 'false';\n  }\n\n  set company(value) {\n    this.setAttribute('company', value);\n  }\n\n  get skills() {\n    return this.getAttribute('skills') !== 'false';\n  }\n\n  set skills(value) {\n    this.setAttribute('skills', value);\n  }\n\n  get links() {\n    return this.getAttribute('links') !== 'false';\n  }\n\n  set links(value) {\n    this.setAttribute('links', value);\n  }\n\n  get grid() {\n    const grid = this.getAttribute('grid');\n    if (grid === 'true' || grid === '') return true;\n    return false;\n  }\n\n  set grid(value) {\n    this.setAttribute('grid', value);\n  }\n\n  get maxItems() {\n    const maxItems = parseInt(this.getAttribute('max-items') || 0, 10) || 0;\n    return maxItems;\n  }\n\n  set maxItems(value) {\n    this.setAttribute('max-items', value);\n  }\n\n  set ['max-items'](value) {\n    this.setAttribute('max-items', value);\n  }\n\n  get branding() {\n    return this.getAttribute('branding') !== 'false';\n  }\n\n  set branding(value) {\n    this.setAttribute('branding', value);\n  }\n\n  render() {\n    const {\n      username,\n      mounted,\n      state,\n      shadowEl,\n      data,\n      logos,\n      grid,\n      dates,\n      title,\n      description,\n      company,\n      skills,\n      links,\n      branding,\n    } = this;\n    const ctx = {\n      data,\n      grid,\n      logos,\n      dates,\n      title,\n      description,\n      company,\n      skills,\n      links,\n      branding,\n    };\n\n    if (!username || !mounted) return;\n    if (state === STATE_SUCCESS) {\n      this.tempDiv.innerHTML = render(ctx);\n    } else if (state === STATE_ERROR) {\n      this.tempDiv.innerHTML = renderError(ctx);\n    } else if (state === STATE_IDLE || state === STATE_LOADING) {\n      this.tempDiv.innerHTML = renderLoading(ctx);\n    }\n\n    let widgetEl = shadowEl.querySelector('.codersrank-portfolio');\n    if (widgetEl) {\n      widgetEl.parentNode.removeChild(widgetEl);\n    }\n    widgetEl = this.tempDiv.querySelector('.codersrank-portfolio');\n    if (!widgetEl) return;\n    this.widgetEl = widgetEl;\n    shadowEl.appendChild(widgetEl);\n  }\n\n  loadAndRender() {\n    const { username } = this;\n    this.state = STATE_LOADING;\n    this.render();\n    fetchData(username)\n      .then((portfolio) => {\n        this.data = formatData(portfolio, this.maxItems);\n        this.state = STATE_SUCCESS;\n        this.render();\n      })\n      .catch(() => {\n        this.state = STATE_ERROR;\n        this.render();\n      });\n  }\n\n  attributeChangedCallback() {\n    if (!this.mounted) return;\n    this.loadAndRender();\n  }\n\n  connectedCallback() {\n    this.mounted = true;\n    this.loadAndRender();\n  }\n\n  disconnectedCallback() {\n    this.mounted = false;\n  }\n}\n\n// EXPORT\n"],"names":["cache","formatDate","item","is_current","Date","end_date","date_to","fetchData","username","Promise","resolve","fetch","method","headers","then","res","json","data","sortedProjects","projects","sort","p1","p2","p1endDate","p2endDate","err","console","error","reject","formatData","portfolioData","maxItems","portfolio","slice","codersRankLogo","hashCode","str","hash","i","length","charCodeAt","intToRGB","c","toString","toUpperCase","substring","stringToColor","hashedHexNumber","toLowerCase","logo","name","url","iconColor","sanitizeDescription","html","replace","render","portfolios","grid","preloader","showLogos","logos","showDates","dates","showTitle","title","showDescription","description","showCompany","company","showSkills","skills","showLinks","links","branding","date","formatter","Intl","DateTimeFormat","month","year","format","startDate","start_date","date_from","endDate","map","project_title","image","highlighted_technologies","other_technologies","tech","join","link_to_project","link_to_source_code","renderError","renderLoading","ctx","COMPONENT_TAG","STATE_IDLE","STATE_LOADING","STATE_ERROR","STATE_SUCCESS","STYLES","CodersrankPortfolio","shadowEl","attachShadow","mode","tempDiv","document","createElement","stylesEl","textContent","appendChild","mounted","state","innerHTML","widgetEl","querySelector","parentNode","removeChild","loadAndRender","attributeChangedCallback","connectedCallback","disconnectedCallback","getAttribute","value","setAttribute","parseInt","HTMLElement"],"mappings":"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"}